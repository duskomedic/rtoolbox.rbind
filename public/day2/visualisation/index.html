<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.60.1" />
    <meta name="description" content="Rtoolbox">
<meta name="author" content="Tatjana Kecojevic">

    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Data Visualisation :: Rtoolbox</title>

    
    <link href="/css/nucleus.css?1575316850" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1575316850" rel="stylesheet">
    <link href="/css/hybrid.css?1575316850" rel="stylesheet">
    <link href="/css/featherlight.min.css?1575316850" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1575316850" rel="stylesheet">
    <link href="/css/auto-complete.css?1575316850" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1575316850" rel="stylesheet">
    <link href="/css/theme.css?1575316850" rel="stylesheet">
    <link href="/css/hugo-theme.css?1575316850" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1575316850" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1575316850"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/day2/visualisation/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <!DOCTYPE html>
<html>
<body>
<IMG SRC="/images/logo.png" ALT="DataTeka" WIDTH=100 HEIGHT=100>

</body>
</html>


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1575316850"></script>
<script type="text/javascript" src="/js/auto-complete.js?1575316850"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1575316850"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/general/" title="About the course" class="dd-item 
        
        
        
        ">
      <a href="/general/">
          <b>1. </b>About the course
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/general/whatlearn/" title="OP≈†TI PREGLED" class="dd-item 
        
        
        
        ">
      <a href="/general/whatlearn/">
          OP≈†TI PREGLED
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/general/instructor/" title="Upoznajte instruktore" class="dd-item 
        
        
        
        ">
      <a href="/general/instructor/">
          Upoznajte instruktore
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/general/syllabus/" title="Indikativan nastavni program" class="dd-item 
        
        
        
        ">
      <a href="/general/syllabus/">
          Indikativan nastavni program
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day1/" title="Modul 1" class="dd-item 
        
        
        
        ">
      <a href="/day1/">
          <b>2. </b>Modul 1
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/day1/whatisr/" title="≈†ta je R?" class="dd-item 
        
        
        
        ">
      <a href="/day1/whatisr/">
          ≈†ta je R?
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/installr/" title="Instalacija R/Rstudija" class="dd-item 
        
        
        
        ">
      <a href="/day1/installr/">
          Install R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/git-and-github/" title="Git and GitHub" class="dd-item 
        
        
        
        ">
      <a href="/day1/git-and-github/">
          Git and GitHub
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/rstudioide/" title="RStudio IDE" class="dd-item 
        
        
        
        ">
      <a href="/day1/rstudioide/">
          RStudio IDE
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/user/" title="How to use R?" class="dd-item 
        
        
        
        ">
      <a href="/day1/user/">
          How to use R?
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/statsconcepts/" title="Basic Stats Concepts" class="dd-item 
        
        
        
        ">
      <a href="/day1/statsconcepts/">
          Basic Stats Concepts
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/datatypes/" title="Data Types" class="dd-item 
        
        
        
        ">
      <a href="/day1/datatypes/">
          Data Types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/importexport/" title="Import Data to R" class="dd-item 
        
        
        
        ">
      <a href="/day1/importexport/">
          Import Data to R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/principlesvisualisation/" title="Introduction to Visualisation Principles" class="dd-item 
        
        
        
        ">
      <a href="/day1/principlesvisualisation/">
          Principles of Visualisation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day2/" title="Modul 2" class="dd-item 
        parent
        
        
        ">
      <a href="/day2/">
          <b>3. </b>Modul 2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/day2/datawrangling/" title="Data Wrangling" class="dd-item 
        
        
        
        ">
      <a href="/day2/datawrangling/">
          Data Wrangling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day2/visualisation/" title="Data Visualisation" class="dd-item 
        parent
        active
        
        ">
      <a href="/day2/visualisation/">
          Data Visualisation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day2/spatialda/" title="Spatial Data Analysis" class="dd-item 
        
        
        
        ">
      <a href="/day2/spatialda/">
          Spatial Data Analysis
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/day2/spatialda/images/mokrin/" title="" class="dd-item ">
        <a href="/day2/spatialda/images/mokrin/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day3/" title="Modul 3" class="dd-item 
        
        
        
        ">
      <a href="/day3/">
          <b>4. </b>Modul 3
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/day3/rmarkdown/" title="RMarkdown" class="dd-item 
        
        
        
        ">
      <a href="/day3/rmarkdown/">
          RMarkdown
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day3/shiny/" title="Shiny" class="dd-item 
        
        
        
        ">
      <a href="/day3/shiny/">
          Shiny
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day3/blogdown/" title="blogdown" class="dd-item 
        
        
        
        ">
      <a href="/day3/blogdown/">
          blogdown
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/our_podcast/" title="Our Stories" class="dd-item 
        
        
        
        ">
      <a href="/our_podcast/">
          <b>4. </b>Our Stories
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/TanjaKec"><i class='fab fa-fw fa-github'></i>GitHub</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download matcornic/hugo-theme-learn on GitHub">Download</a>

    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn" data-icon="octicon-star" data-show-count="true" aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>

    <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/day2/Visualisation/_index.en.markdown" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>R Toolbox</a> > <a href='/day2/'>Modul 2</a> > Data Visualisation
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#grammar-of-graphics">Grammar of Graphics</a></li>
        <li><a href="#playing-with-the-aesthetic-adding-more-layers-to-your-span-stylecolorredggplotspan">Playing with the aesthetic: adding more layers to your ggplot()</a></li>
      </ul>
    </li>
    <li><a href="#your-turn-">YOUR TURN üëá</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Data Visualisation
            </h1>
          

        




	<p>Most of you, if not all, will be familiar with creating the graphs in Excel. Software such as Excel has a predefined set of menu options for plotting the data that is the focus of the end result: &ldquo;pretty graph&rdquo;. Those types of menus assume data to be in a format ready for plotting, which when you get raw data is hardly the case. You are probably going to have to organise and wrangle your data to make it ready for effective visualisation.</p>
<h3 id="grammar-of-graphics">Grammar of Graphics</h3>
<p>The <a href="http://vita.had.co.nz/papers/layered-grammar.html">grammar of graphics</a> enables a structured way of creating a plot by adding the components as layers, making it look effective and attractive.</p>
<p>It enables you to specify building blocks of a plot and to combine them to create the graphical display that you want. There are 8 building blocks:</p>
<ul>
<li>
<p>data</p>
</li>
<li>
<p>aesthetic mapping</p>
</li>
<li>
<p>geometric object</p>
</li>
<li>
<p>statistical transformations</p>
</li>
<li>
<p>scales</p>
</li>
<li>
<p>coordinate system</p>
</li>
<li>
<p>position adjustments</p>
</li>
<li>
<p>faceting</p>
</li>
</ul>
<p>Imagine talking about baking a cake and adding a cherry on the top. üéÇüçí This philosophy has been built into the <a href="https://ggplot2.tidyverse.org/reference/"><code>ggplot</code></a> package by <a href="http://hadley.nz">Hadle Wickham</a> for creating elegant and complex plots in R.</p>
<h4 id="ggplot2">ggplot2</h4>
<p>Learning how to use the <code>ggplot2</code> package can be challenging, but the results are highly rewarding and just like R itself, it becomes easier the more you use it.</p>

<div class="notices warning" ><p>Unlike base graphics, ggplot works with dataframes and not individual vectors.</p>
</div>

<p>The best way to master it is by practising. So let us create a first <code>ggplot</code>. üòÉ
What we need to do is the following:</p>
<ul>
<li>
<p>i) Wrangle the data in the format suitable for visualisation.</p>
</li>
<li>
<p>ii) &ldquo;Initialise&rdquo; a plot with <code>ggplot()</code>:</p>
</li>
</ul>
<p><strong>ggplot(<!-- raw HTML omitted -->dataframe<!-- raw HTML omitted -->, aes(<!-- raw HTML omitted -->x = explanatory variable<!-- raw HTML omitted -->, <!-- raw HTML omitted -->y = resposne variable<!-- raw HTML omitted -->))</strong></p>
<p>This will draw a blank ggplot, even though the x and y are specified. <code>ggplot</code> doesn‚Äôt assume the plot you meant to be drawn (a scatterplot). You only specify the data set and columns ie. variables to be used. Alos note that <code>aes( )</code> function is used to specify the x and y axes.</p>
<ul>
<li>iii) Add layers with <code>geom_</code> functions:</li>
</ul>
<p><strong>geom_point()</strong></p>
<p>We will add points using a <strong>geom layer</strong> called <code>geom_point</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># load the packages</span>
<span style="color:#a6e22e">suppressPackageStartupMessages</span>(<span style="color:#a6e22e">library</span>(dplyr))
<span style="color:#a6e22e">suppressPackageStartupMessages</span>(<span style="color:#a6e22e">library</span>(gapminder))
<span style="color:#a6e22e">suppressPackageStartupMessages</span>(<span style="color:#a6e22e">library</span>(ggplot2))

<span style="color:#75715e"># wrangle the data (Can you remember what this code do?)</span>
gapminder_pipe <span style="color:#f92672">&lt;-</span> gapminder <span style="color:#f92672">%&gt;%</span>
  <span style="color:#a6e22e">filter</span>(continent <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Europe&#34;</span> <span style="color:#f92672">&amp;</span> year <span style="color:#f92672">==</span>  <span style="color:#ae81ff">2007</span>) <span style="color:#f92672">%&gt;%</span>
  <span style="color:#a6e22e">mutate</span>(pop_e6 <span style="color:#f92672">=</span> pop <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000000</span>)

<span style="color:#75715e"># plot the data</span>
<span style="color:#a6e22e">ggplot</span>(gapminder_pipe, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> pop_e6, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(col <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">red&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>

<div class="notices tip" ><p>ü§ìüí° <strong>Tip</strong>: You can use the following code template to make graphs with <strong>ggplot2</strong>:</p>
</div>

<pre><code>ggplot(data = &lt;DATA&gt;, (mapping = aes(&lt;MAPPINGS&gt;)) + 
      &lt;GEOM_FUNCTION&gt;()
</code></pre><h5 id="span-stylecolorredggplotspan-gallery"><!-- raw HTML omitted -->ggplot()<!-- raw HTML omitted --> gallery</h5>
<p>Run the following code to see what graphs it will produce.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> lifeExp), binwidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_histogram</span>()
<span style="color:#75715e">#</span>
<span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_density</span>()
<span style="color:#75715e">#</span>
<span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> continent, color <span style="color:#f92672">=</span> continent)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_bar</span>()
<span style="color:#75715e">#</span>
<span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> continent, fill <span style="color:#f92672">=</span> continent)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_bar</span>()
</code></pre></div><h5 id="-confer-with-your-neighbours">üó£üë• Confer with your neighbours:</h5>
<p>Does life expectancy depend upon the population size?</p>
<p><code>y = b_0 + b_1 x + e</code></p>
<p>Run this code in your console to fit the model <code>pop</code> vs <code>lifeExp</code>.</p>
<p>Pay attention to spelling, capitalization, and parentheses!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">m1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(gapminder_pipe<span style="color:#f92672">$</span>lifeExp <span style="color:#f92672">~</span> gapminder_pipe<span style="color:#f92672">$</span>pop_e6)
<span style="color:#a6e22e">summary</span>(m1)
</code></pre></div><p><strong>Can you answer the question using the output of the fitted model?</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">m1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(gapminder_pipe<span style="color:#f92672">$</span>lifeExp <span style="color:#f92672">~</span> gapminder_pipe<span style="color:#f92672">$</span>pop_e6)
<span style="color:#a6e22e">summary</span>(m1)
</code></pre></div><pre><code>## 
## Call:
## lm(formula = gapminder_pipe$lifeExp ~ gapminder_pipe$pop_e6)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -6.324 -2.562  1.007  2.245  4.277 
## 
## Coefficients:
##                        Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)           77.477421   0.721723 107.351   &lt;2e-16 ***
## gapminder_pipe$pop_e6  0.008762   0.023779   0.368    0.715    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 3.025 on 28 degrees of freedom
## Multiple R-squared:  0.004826,	Adjusted R-squared:  -0.03072 
## F-statistic: 0.1358 on 1 and 28 DF,  p-value: 0.7153
</code></pre><h5 id="-practice--use-gapminder-data">üëâ Practice ‚è∞üíª: Use gapminder data.</h5>
<p>Does the life expectancy depend upon the GDP per capita?</p>
<ol>
<li>
<p>Have a glance at the data. (tip: <code>sample_n(df, n)</code>)</p>
</li>
<li>
<p>Produce a scatterplot: what does it tell you?</p>
</li>
<li>
<p>Fit a regression model: is there a relationship? How strong is it?
Is the relationship linear? What conclusion(s) can you draw?</p>
</li>
<li>
<p>What are the other questions you could ask; could you provide the answers to them?</p>
</li>
</ol>
<h5 id="-solution-code-q1-sample">üòÉüôå Solution: code Q1; sample</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">sample_n</span>(gapminder, <span style="color:#ae81ff">30</span>)
</code></pre></div><pre><code>## # A tibble: 30 x 6
##    country      continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;        &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Iraq         Asia       1987    65.0 16543189    11644.
##  2 Myanmar      Asia       1962    45.1 23634436      388 
##  3 Italy        Europe     1957    67.8 49182000     6249.
##  4 Netherlands  Europe     2007    79.8 16570613    36798.
##  5 Djibouti     Africa     1972    44.4   178848     3694.
##  6 Iraq         Asia       1992    59.5 17861905     3746.
##  7 South Africa Africa     1997    60.2 42835005     7479.
##  8 El Salvador  Americas   1967    55.9  3232927     4359.
##  9 Burkina Faso Africa     1957    34.9  4713416      617.
## 10 Korea, Rep.  Asia       2002    77.0 47969150    19234.
## # ‚Ä¶ with 20 more rows
</code></pre><p>We will add layers onto this scatterplot: <code>liveExp</code> vs <code>gdpPercap</code>. We want to superimpose regression line of the best fit and non-parametric loess line that depict a possible relationship between the two variables. That means we will have:</p>
<ul>
<li>1st layer: <strong>scatterplot</strong></li>
<li>2nd layer: <strong>line of the best fit</strong></li>
<li>3rd layer: <strong>loess curve</strong></li>
</ul>
<h5 id="-solution-code-q2-plot-the-data">üòÉüôå Solution: code Q2; Plot the data;</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">21</span>, fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">blue&#34;</span>, colour<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">+</span> <span style="color:#75715e"># set transparency, shape, colour and size for points</span>
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#75715e"># change the colour of line</span>
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">limegreen&#34;</span>) <span style="color:#75715e"># change the colour of line</span>
</code></pre></div><p><!-- raw HTML omitted --></p>
<h5 id="-solution-code-q3-simple-regression-model">üòÉüôå Solution: code Q3; simple regression model</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">my.model <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(gapminder_pipe<span style="color:#f92672">$</span>lifeExp <span style="color:#f92672">~</span> gapminder_pipe<span style="color:#f92672">$</span>gdpPercap)
<span style="color:#a6e22e">summary</span>(my.model)
</code></pre></div><pre><code>## 
## Call:
## lm(formula = gapminder_pipe$lifeExp ~ gapminder_pipe$gdpPercap)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.79839 -1.30472  0.00807  1.33443  2.87766 
## 
## Coefficients:
##                           Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)              7.227e+01  6.942e-01 104.113  &lt; 2e-16 ***
## gapminder_pipe$gdpPercap 2.146e-04  2.514e-05   8.537  2.8e-09 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.598 on 28 degrees of freedom
## Multiple R-squared:  0.7225,	Adjusted R-squared:  0.7125 
## F-statistic: 72.88 on 1 and 28 DF,  p-value: 2.795e-09
</code></pre><h3 id="playing-with-the-aesthetic-adding-more-layers-to-your-span-stylecolorredggplotspan">Playing with the aesthetic: adding more layers to your <!-- raw HTML omitted --><code>ggplot()</code><!-- raw HTML omitted --></h3>
<p>Whenever possible you should strive to make your graph visually appealing and informative as discussed in the previous section <em>Principles of Visualisation</em>.</p>
<h4 id="to-change-the-title-and-axis-labels-use-span-stylecolororangeredlayer-labsspan">To change the title and axis labels use <!-- raw HTML omitted -->layer <strong>labs</strong><!-- raw HTML omitted --></h4>
<p><strong>labs(<!-- raw HTML omitted -->title =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúyour title‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->subtitle =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúyour subtitle‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->y =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúy label‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->x =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúx label‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->caption =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúgraph's caption‚Äù<!-- raw HTML omitted -->)</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">steelblue&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">limegreen&#34;</span>) <span style="color:#f92672">+</span> 
 
  <span style="color:#75715e"># give a title an label axes</span>
  <span style="color:#a6e22e">labs</span>(title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  
  <span style="color:#75715e"># modify the appearance</span>
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">none&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  
  <span style="color:#75715e"># add the description</span>
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">limegreen&#34;</span>) 
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Note, that we have added text on the plot for the two lines and have edited the plot in terms of legend and its appearance.</p>
<p>We could also annotate the plot by using:</p>
<pre><code>annotate(&quot;text&quot;, x = 80000, y = 125 label = &quot;regression line&quot;, color = &quot;maroon3&quot;)
</code></pre><p>To learn more about how to modify the appearance of the theme go to <a href="https://ggplot2.tidyverse.org/reference/theme.html">ggplot‚Äôs theme page</a>.</p>
<h4 id="change-the-colour-of-the-points-to-reflect-categories-of-another-third-variable">Change the colour of the points to reflect categories of another, third variable.</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># change the colour of the points to reflect continent it belongs to; set transparency, shape, and size for points</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>

<div class="notices note" ><p>Note that the legend is added automatically. You can remove it by setting the <strong>legend.position</strong> to <code>none</code> from within a <code>theme()</code> function.</p>
</div>

<h4 id="adjust-the-x-and-y-axis-limits-and-change-the-x-axis-texts-and-its-ticks-location">Adjust the X and Y axis limits and change the X axis texts and its ticks&rsquo; location</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">  <span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">48000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">90</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">70000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># change the limits of the x &amp; y axis</span>
  <span style="color:#a6e22e">xlim</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">90000</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">ylim</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">100</span>)) 
</code></pre></div><pre><code>## Warning: Removed 5 rows containing non-finite values (stat_smooth).

## Warning: Removed 5 rows containing non-finite values (stat_smooth).
</code></pre><pre><code>## Warning: Removed 5 rows containing missing values (geom_point).
</code></pre><pre><code>## Warning: Removed 33 rows containing missing values (geom_smooth).
</code></pre><p><!-- raw HTML omitted --></p>
<p>Note that the regression and smooth lines have changed their shapes üò≥‚Ä¶ all those warnings üò¨ What‚Äôs going on?! üò≤</p>

<div class="notices warning" ><p>When using xlim() and ylim(), the points outside the specified range are deleted and are not considered while drawing the line using <code>geom_smooth()</code>. This feature might come in handy when you wish to know how the line of best fit would change when some extreme values or outliers are removed.</p>
</div>

<p>Thankfully, there is another way to change the limits of the axis without deleting the points by simply zooming in to the region of interest. This is done using <code>coord_cartesian()</code>. You can try to replace <code>xlim()</code> and <code>ylim()</code> commands in the previous code chunk with the code below to see what would happen.</p>
<pre><code>coord_cartesian(xlim = c(0, 90000), ylim = c(25, 100))  # zooming in specified limits of the x &amp; y axis
</code></pre><p>You can set the breaks on the x axis and label them by using <code>scale_x_continuous()</code>. Similarly, you can do it for the y axis?</p>
<p>Try to play with changing the colour palette. For more options check <a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">Sequential, diverging and qualitative colour scales from colorbrewer.org</a>.</p>
<p>These are build-in themes which control all non-data display. You should use <code>theme_bw()</code> to have white background or <code>theme_dark()</code> for dark grey. For more build-in themes click <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">here</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># change breaks and label them </span>
  <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120000</span>, <span style="color:#ae81ff">20000</span>), labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">0&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">20K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">60K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">80K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">10K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">12K&#34;</span>)) <span style="color:#f92672">+</span>

  <span style="color:#75715e"># change color palette</span>
  <span style="color:#a6e22e">scale_colour_brewer</span>(palette <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Set1&#34;</span>) <span style="color:#f92672">+</span> 

  <span style="color:#75715e"># white background theme</span>
  <span style="color:#a6e22e">theme_bw</span>()
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>There is a <code>ggthemes</code> library of themes that willhelp you create stylish ggplot charts used by different journals like the Wall Street Journal or the Economist. See what other themes you can use by going to <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">this website</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">## If you don&#39;t have ggthemes installed yet, uncomment and run the line below</span>
<span style="color:#75715e">#install.packeges(&#34;ggthemes&#34;)</span>
<span style="color:#a6e22e">library</span>(ggthemes)
<span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkred&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkgreen&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkred&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkgreen&#34;</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120000</span>, <span style="color:#ae81ff">20000</span>), labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">0&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">20K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">60K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">80K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">10K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">12K&#34;</span>)) <span style="color:#f92672">+</span>

  <span style="color:#75715e"># Wall Street Journal theme</span>
  <span style="color:#a6e22e">scale_colour_wsj</span>() <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">theme_wsj</span>()
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>You are ready to make publication-ready visualizations in R. üòé You can go further and explore for yourself to see if you can produce BBC style ggplot charts like those used in the BBC's data journalism. Check out the <a href="https://bbc.github.io/rcookbook/">BBC Visual and Data Journalism cookbook for R graphics</a>.</p>
<h5 id="lay-out-panels-in-a-grid">Lay out panels in a grid</h5>
<p>Sometimes it might be hard to read one panel plot, like the one we have just created in which it is not very easy to see the points of each continent. To make it easier to follow and to understand the information you are trying to depict, it would be more effective to present different categories of the same information in a clear set of multi-panel plots. This is easy to do by applying powerful faceting functions of the <code>ggplot2</code>: <code>facet_wrap()</code> and <code>facet_grid()</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkred&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120000</span>, <span style="color:#ae81ff">20000</span>), labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">0&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">20K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">60K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">80K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">10K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">12K&#34;</span>)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_colour_wsj</span>() <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">theme_wsj</span>() <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># forms a matrix of scatterplots for each continet</span>
  <span style="color:#a6e22e">facet_grid</span>(rows <span style="color:#f92672">=</span> <span style="color:#a6e22e">vars</span>(continent))
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>The main difference between <code>facet_wrap()</code> and  <code>facet_grid()</code> is that the former can string together ggplots in different facets using a single variable, while the latter can do it for more than one.</p>

<div class="notices warning" ><p>Try to explore the two functions for yourself and see where it will take you.</p>
</div>

<h4 id="-there-is-a-challenge">üí™ There is a challenge:</h4>
<ul>
<li>
<p><code>dplyr</code>'s <code>group_by()</code> function enables you to group your data. It allows you to create a separate df that splits the original df by a variable.</p>
</li>
<li>
<p><code>boxplot()</code> function produces boxplot(s) of the given (grouped) values.</p>
</li>
</ul>
<p>Knowing about <code>group_by()</code> and <code>boxplot()</code> function and using <code>gapminder</code> data, can you compute the median life expectancy for year 2007 by continent and visualise your result?</p>
<h5 id="-solution-code">üòÉüôå Solution: code</h5>
<p>Let us look at the median life expectancy for each continent</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">gapminder <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">group_by</span>(continent) <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">summarise</span>(lifeExp <span style="color:#f92672">=</span> <span style="color:#a6e22e">median</span>(lifeExp))
</code></pre></div><pre><code>## # A tibble: 5 x 2
##   continent lifeExp
##   &lt;fct&gt;       &lt;dbl&gt;
## 1 Africa       47.8
## 2 Americas     67.0
## 3 Asia         61.8
## 4 Europe       72.2
## 5 Oceania      73.7
</code></pre><p><strong>We are lucky that we live in Serbia, ie. Europe!!!</strong> üòÖ</p>
<h5 id="-solution-graph">üòÉüôå Solution: graph</h5>
<p><!-- raw HTML omitted --></p>
<h5 id="case-study-no2-2017-">Case study: NO2 2017 üòÅ</h5>
<p>Let's try to compbine everything we have learnt so far and practise using well known to us <a href="http://data.sepa.gov.rs/dataset/ca463c44-fbfa-4de9-9a75-790995bf2830/resource/74516688-5fb5-47b2-becc-6b6e31a24d80/download/2017-no2.csv">2017-NO2.csv</a> data.</p>
<p>Remember this?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(tidyr)
<span style="color:#a6e22e">library</span>(forcats)
no2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">http://data.sepa.gov.rs/dataset/ca463c44-fbfa-4de9-9a75-790995bf2830/resource/74516688-5fb5-47b2-becc-6b6e31a24d80/download/2017-no2.csv&#34;</span>,
                stringsAsFactors <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>, 
                fileEncoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">latin1&#34;</span>)
new_no2 <span style="color:#f92672">&lt;-</span> no2 <span style="color:#f92672">%&gt;%</span>
  <span style="color:#a6e22e">gather</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">place&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">no2&#34;</span>, <span style="color:#f92672">-</span>Datum, factor_key <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># stack all columns apart from `Datum`</span>
  <span style="color:#a6e22e">mutate</span>(place <span style="color:#f92672">=</span> <span style="color:#a6e22e">fct_recode</span>(place, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">NS_Spens&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Novi.Sad.SPENS.NO2&#34;</span>,
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BG_Most&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Beograd.Mostar.NO2&#34;</span>,
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BG_Vracar&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Beograd.Vra√®ar.NO2&#34;</span>, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BG_ZelenoBrdo&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Beograd.Zeleno.brdo.NO2&#34;</span>, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">KG&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Kragujevac..NO2&#34;</span>, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">NI&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Ni..IZJZ.Ni...NO2&#34;</span>,
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">UZ&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">U.ice..NO2&#34;</span>))
<span style="color:#a6e22e">glimpse</span>(new_no2)
</code></pre></div><pre><code>## Observations: 2,555
## Variables: 3
## $ Datum &lt;chr&gt; &quot;01.01.2017&quot;, &quot;02.01.2017&quot;, &quot;03.01.2017&quot;, &quot;04.01.2017&quot;, &quot;0‚Ä¶
## $ place &lt;fct&gt; NS_Spens, NS_Spens, NS_Spens, NS_Spens, NS_Spens, NS_Spens‚Ä¶
## $ no2   &lt;dbl&gt; 22.89, 32.94, 14.86, 22.73, 20.89, 10.47, 9.58, 15.99, 14.‚Ä¶
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">new_no2 <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">group_by</span>(place) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">summarise</span>(mean_no2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(no2))) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># !is.na(): is not NA; omits the missing values</span>
  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> place, y <span style="color:#f92672">=</span> mean_no2, fill <span style="color:#f92672">=</span> place)) <span style="color:#f92672">+</span> <span style="color:#75715e"># fill: colours each bar differently   </span>
    <span style="color:#a6e22e">geom_bar</span>(stat <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">identity&#34;</span>) <span style="color:#f92672">+</span>
    <span style="color:#a6e22e">xlab</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Place&#34;</span>) <span style="color:#f92672">+</span> 
    <span style="color:#a6e22e">scale_fill_brewer</span>(palette <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Dark2&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#75715e"># colour scheme &#34;Dark2&#34;</span>
    <span style="color:#a6e22e">theme</span>(legend.position<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">bottom&#34;</span>, 
          axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
          axis.ticks.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>()) <span style="color:#75715e"># </span>
</code></pre></div><p><!-- raw HTML omitted --></p>
<h2 id="your-turn-">YOUR TURN üëá</h2>
<p>Practise by doing the following set of exercises:</p>
<ol>
<li>
<p>Chose a data set from <a href="https://data.gov.rs">https://data.gov.rs</a> that is interesting to you. Import the dataset into R and examine what kinds of variables are there. What plots would you recommend using to help people get to know the dataset?</p>
</li>
<li>
<p>Go back to NO2 2017 case study:</p>
</li>
</ol>
<p>i)	What are the questions you can ask based on the available information within the dataset?</p>
<p>ii)	What plots would you recommend to use to help in answering those questions?</p>
<p>iii)	Create appropriate visualisations for i) &amp; ii)</p>
<h5 id="useful-links">useful links:</h5>
<p><a href="https://www.rstudio.com/resources/webinars/tidyverse-visualization-and-manipulation-basics/">tidyverse, visualization, and manipulation basics</a></p>
<p><a href="http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html#introduction">Introduction to R graphics with ggplot2</a></p>
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf"><code>gglopt</code> cheat sheet</a></p>
<p><a href="https://www.data-to-viz.com/">from Data to Viz</a></p>
<p><a href="http://johnburnmurdoch.github.io/slides/r-ggplot/#/">An example from the Financial Times</a></p>
<p><a href="https://bbc.github.io/rcookbook/">BBC Visual and Data Journalism cookbook for R graphics</a></p>
<p><a href="http://johnburnmurdoch.github.io/slides/r-ggplot/#/">ggplot as a creativity engine</a></p>
<hr>
<p>¬© 2019 Tatjana Kecojevic</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/day2/datawrangling/" title="Data Wrangling"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/day2/spatialda/" title="Spatial Data Analysis" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1575316851"></script>
    <script src="/js/perfect-scrollbar.min.js?1575316851"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1575316851"></script>
    <script src="/js/jquery.sticky.js?1575316851"></script>
    <script src="/js/featherlight.min.js?1575316851"></script>
    <script src="/js/highlight.pack.js?1575316851"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1575316851"></script>
    <script src="/js/learn.js?1575316851"></script>
    <script src="/js/hugo-learn.js?1575316851"></script>

    <link href="/mermaid/mermaid.css?1575316851" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1575316851"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105947713-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
