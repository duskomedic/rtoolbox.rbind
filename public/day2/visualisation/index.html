<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.60.1" />
    <meta name="description" content="Rtoolbox">
<meta name="author" content="Tatjana Kecojevic">

    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Vizuelizacija podataka :: Rtoolbox</title>

    
    <link href="/css/nucleus.css?1577286692" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1577286692" rel="stylesheet">
    <link href="/css/hybrid.css?1577286692" rel="stylesheet">
    <link href="/css/featherlight.min.css?1577286692" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1577286692" rel="stylesheet">
    <link href="/css/auto-complete.css?1577286692" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1577286692" rel="stylesheet">
    <link href="/css/theme.css?1577286692" rel="stylesheet">
    <link href="/css/hugo-theme.css?1577286692" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1577286692" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1577286692"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/day2/visualisation/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <!DOCTYPE html>
<html>
<body>
<IMG SRC="/images/logo.png" ALT="DataTeka" WIDTH=100 HEIGHT=100>

</body>
</html>


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1577286692"></script>
<script type="text/javascript" src="/js/auto-complete.js?1577286692"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1577286692"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/general/" title="About the course" class="dd-item 
        
        
        
        ">
      <a href="/general/">
          <b>1. </b>About the course
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/general/whatlearn/" title="OP≈†TI PREGLED" class="dd-item 
        
        
        
        ">
      <a href="/general/whatlearn/">
          OP≈†TI PREGLED
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/general/instructor/" title="Upoznajte instruktore" class="dd-item 
        
        
        
        ">
      <a href="/general/instructor/">
          Upoznajte instruktore
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/general/syllabus/" title="Indikativan nastavni program" class="dd-item 
        
        
        
        ">
      <a href="/general/syllabus/">
          Indikativan nastavni program
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day1/" title="Modul 1" class="dd-item 
        
        
        
        ">
      <a href="/day1/">
          <b>2. </b>Modul 1
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/day1/whatisr/" title="≈†ta je R?" class="dd-item 
        
        
        
        ">
      <a href="/day1/whatisr/">
          ≈†ta je R?
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/installr/" title="Instalacija R/Rstudija" class="dd-item 
        
        
        
        ">
      <a href="/day1/installr/">
          Install R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/git-and-github/" title="Git i GitHub" class="dd-item 
        
        
        
        ">
      <a href="/day1/git-and-github/">
          Git i GitHub
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/rstudioide/" title="RStudio IDE" class="dd-item 
        
        
        
        ">
      <a href="/day1/rstudioide/">
          RStudio IDE
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/user/" title="Kako koristiti R?" class="dd-item 
        
        
        
        ">
      <a href="/day1/user/">
          Kako koristiti R?
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/statsconcepts/" title="Osnovni koncepti statistike" class="dd-item 
        
        
        
        ">
      <a href="/day1/statsconcepts/">
          Osnovni koncepti statistike
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/datatypes/" title="Tipovi podataka" class="dd-item 
        
        
        
        ">
      <a href="/day1/datatypes/">
          Tipovi podataka
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/importexport/" title="Uvoz podataka u R" class="dd-item 
        
        
        
        ">
      <a href="/day1/importexport/">
          Uvoz podataka u R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day1/principlesvisualisation/" title="Uvod u principe vizuelizacije" class="dd-item 
        
        
        
        ">
      <a href="/day1/principlesvisualisation/">
          Principli vizualizacije
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day2/" title="Modul 2" class="dd-item 
        parent
        
        
        ">
      <a href="/day2/">
          <b>3. </b>Modul 2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/day2/datawrangling/" title="Upravljanje podacima" class="dd-item 
        
        
        
        ">
      <a href="/day2/datawrangling/">
          Upravljanje podacima
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day2/visualisation/" title="Vizuelizacija podataka" class="dd-item 
        parent
        active
        
        ">
      <a href="/day2/visualisation/">
          Vizuelizacija podataka
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day2/spatialda/" title="Analiza geo-pozicioniranih podataka" class="dd-item 
        
        
        
        ">
      <a href="/day2/spatialda/">
          Analiza geo-pozicioniranih podataka
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/day2/spatialda/images/mokrin/" title="" class="dd-item ">
        <a href="/day2/spatialda/images/mokrin/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day3/" title="Modul 3" class="dd-item 
        
        
        
        ">
      <a href="/day3/">
          <b>4. </b>Modul 3
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/day3/rmarkdown/" title="RMarkdown" class="dd-item 
        
        
        
        ">
      <a href="/day3/rmarkdown/">
          RMarkdown
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day3/shiny/" title="Shiny" class="dd-item 
        
        
        
        ">
      <a href="/day3/shiny/">
          Shiny
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/day3/blogdown/" title="blogdown" class="dd-item 
        
        
        
        ">
      <a href="/day3/blogdown/">
          blogdown
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/our_podcast/" title="Our Stories" class="dd-item 
        
        
        
        ">
      <a href="/our_podcast/">
          <b>4. </b>Our Stories
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/TanjaKec"><i class='fab fa-fw fa-github'></i>GitHub</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download matcornic/hugo-theme-learn on GitHub">Download</a>

    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn" data-icon="octicon-star" data-show-count="true" aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>

    <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/day2/Visualisation/_index.en.markdown" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>R Toolbox</a> > <a href='/day2/'>Modul 2</a> > Vizuelizacija podataka
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#gramatika-grafike">Gramatika grafike</a></li>
        <li><a href="#koristite-estetsko-mapiranje-dodajte-jo-lejera-na-va-span-stylecolorredggplotspan">Koristite estetsko mapiranje: dodajte jo≈° lejera na va≈° ggplot()</a></li>
      </ul>
    </li>
    <li><a href="#zadaci-">ZADACI üëá</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Vizuelizacija podataka
            </h1>
          

        




	<p>Veƒáina vas, ako ne svi, upoznati su sa kreiranjem grafikona u Excelu. Softver poput Excel-a ima predefinisan set opcija za iscrtavanje podataka. Ove opcije date u meniju pretpostavljaju da su podaci veƒá pripremljeni za iscrtavanje, ≈°to u sluƒçaju sirovih podataka nije sluƒçaj. Biƒáe neophodno da ovakve podatke morate organizovati i promeniti svoje podatke kako biste bili spremni za efikasnu vizulezaciju.</p>
<h3 id="gramatika-grafike">Gramatika grafike</h3>
<p>Gramatika grafike <a href="http://vita.had.co.nz/papers/layered-grammar.html">grammar of graphics</a> omoguƒáava strukturirani naƒçin kreiranja grafikona dodavanjem komponenti kao slojeva, i ƒçini grafikone efikasnijim i atraktivnijim.</p>
<p>Ona vam omoguƒáava da odredite blokove grafikona i da ih kombinujete kako biste stvorili prikaz koji ≈æelite. Postoji osam tipova ovih blokova:</p>
<ul>
<li>
<p>podaci (data)</p>
</li>
<li>
<p>estetsko mapiranje (aesthetic mapping)</p>
</li>
<li>
<p>geometrijski objekti (geometric object)</p>
</li>
<li>
<p>stastiƒçke transformacije (statistical transformations)</p>
</li>
<li>
<p>skale (scales)</p>
</li>
<li>
<p>koorinatni sistem (coordinate system)</p>
</li>
<li>
<p>pode≈°avanje polo≈æaja (position adjustments)</p>
</li>
<li>
<p>oblaganje (faceting)</p>
</li>
</ul>
<p>Zamislite da razgovarate o peƒçenju torte i dodavanju vi≈°nje na njen vrh. üéÇüçí TOva filozofija ugraƒëena je u <a href="https://ggplot2.tidyverse.org/reference/"><code>ggplot</code></a> paket koji je razvio <a href="http://hadley.nz">Hadle Wickham</a> za kreiranje elegantnih i kompleksnih grafikona u R-u.</p>
<h4 id="ggplot2">ggplot2</h4>
<p>Uƒçeƒçi kako da koristite <code>ggplot2</code> paket mo≈æe biti izazov, ali su rezultati veoma korisni i kao i u R-u, biƒáe vam lak≈°e da ga koristite ≈°to vi≈°e to budete radili.</p>

<div class="notices warning" ><p>Za razliku od osnovne grafike ggplot radi sa okvirima podataka (dataframes), a ne sa pojedinaƒçnim vektorima.</p>
</div>

<p>Najbolji naƒçin da usvojite znanje je da ve≈æbate. Zato napravimo prvi <code>ggplot</code>. üòÉ
Ono ≈°to trebamo da uƒçinimo je sledeƒáe:</p>
<ul>
<li>
<p>i) Podatke rasporedite u format pogodan za vizuelizaciju.</p>
</li>
<li>
<p>ii) ‚ÄúPokrenite‚Äù grafikon sa <code>ggplot()</code>:</p>
</li>
</ul>
<p><strong>ggplot(<!-- raw HTML omitted -->dataframe<!-- raw HTML omitted -->, aes(<!-- raw HTML omitted -->x = explanatory variable<!-- raw HTML omitted -->, <!-- raw HTML omitted -->y = resposne variable<!-- raw HTML omitted -->))</strong></p>
<p>Ovom naredbom iscrtaƒáe se prazan grafikon (ggplot), iako su zadani x i y <code>ggplot</code> jo≈° vam neƒáe iscrtati grafikon, s obzirom da jo≈° niste specifikovali set podataka veƒá samo varijable koje ƒáete koristiti. Primetite ovde da funkcija <code>aes( )</code> koristi se za specifikaciju x i y osa.</p>
<ul>
<li>iii) Dodajte lejere sa funkcijom <code>geom_</code>:</li>
</ul>
<p><strong>geom_point()</strong></p>
<p>Taƒçke na grafikonu dodaƒáemo upotrebom <strong>geom lajera</strong> pozivom <code>geom_point</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># load the packages</span>
<span style="color:#a6e22e">suppressPackageStartupMessages</span>(<span style="color:#a6e22e">library</span>(dplyr))
<span style="color:#a6e22e">suppressPackageStartupMessages</span>(<span style="color:#a6e22e">library</span>(gapminder))
<span style="color:#a6e22e">suppressPackageStartupMessages</span>(<span style="color:#a6e22e">library</span>(ggplot2))

<span style="color:#75715e"># wrangle the data (Can you remember what this code do?)</span>
gapminder_pipe <span style="color:#f92672">&lt;-</span> gapminder <span style="color:#f92672">%&gt;%</span>
  <span style="color:#a6e22e">filter</span>(continent <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Europe&#34;</span> <span style="color:#f92672">&amp;</span> year <span style="color:#f92672">==</span>  <span style="color:#ae81ff">2007</span>) <span style="color:#f92672">%&gt;%</span>
  <span style="color:#a6e22e">mutate</span>(pop_e6 <span style="color:#f92672">=</span> pop <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000000</span>)

<span style="color:#75715e"># plot the data</span>
<span style="color:#a6e22e">ggplot</span>(gapminder_pipe, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> pop_e6, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(col <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">red&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>

<div class="notices tip" ><p>ü§ìüí° <strong>Tip</strong>: Za izradu grafova mo≈æete koristiti sledecÃÅi obrazac koda <strong>ggplot2</strong>:</p>
</div>

<pre><code>ggplot(data = &lt;DATA&gt;, (mapping = aes(&lt;MAPPINGS&gt;)) + 
      &lt;GEOM_FUNCTION&gt;()
</code></pre><h5 id="span-stylecolorredggplotspan-galerija"><!-- raw HTML omitted -->ggplot()<!-- raw HTML omitted --> galerija</h5>
<p>Pokrenite sledecÃÅi kod da biste videli koje cÃÅe grafove proizvesti.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> lifeExp), binwidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_histogram</span>()
<span style="color:#75715e">#</span>
<span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_density</span>()
<span style="color:#75715e">#</span>
<span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> continent, color <span style="color:#f92672">=</span> continent)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_bar</span>()
<span style="color:#75715e">#</span>
<span style="color:#a6e22e">ggplot</span>(data <span style="color:#f92672">=</span> gapminder, mapping <span style="color:#f92672">=</span> <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> continent, fill <span style="color:#f92672">=</span> continent)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_bar</span>()
</code></pre></div><h5 id="-pregovarajte-sa-komijama">üó£üë• Pregovarajte sa kom≈°ijama:</h5>
<p>Da li ≈æivotni vek zavisi od broja stanovnika?</p>
<p><code>y = b_0 + b_1 x + e</code></p>
<p>Startujte ovaj kod u konzoli da biste uporedili <code>pop</code> sa <code>lifeExp</code>.</p>
<p>Obratite pa≈ænju na reƒçi, velika i mala slova, i na zagrade!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">m1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(gapminder_pipe<span style="color:#f92672">$</span>lifeExp <span style="color:#f92672">~</span> gapminder_pipe<span style="color:#f92672">$</span>pop_e6)
<span style="color:#a6e22e">summary</span>(m1)
</code></pre></div><p><strong>Mo≈æete li odgovoriti na pitanje koristecÃÅi izlaz napravljenog modela?</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">m1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(gapminder_pipe<span style="color:#f92672">$</span>lifeExp <span style="color:#f92672">~</span> gapminder_pipe<span style="color:#f92672">$</span>pop_e6)
<span style="color:#a6e22e">summary</span>(m1)
</code></pre></div><pre><code>## 
## Call:
## lm(formula = gapminder_pipe$lifeExp ~ gapminder_pipe$pop_e6)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -6.324 -2.562  1.007  2.245  4.277 
## 
## Coefficients:
##                        Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)           77.477421   0.721723 107.351   &lt;2e-16 ***
## gapminder_pipe$pop_e6  0.008762   0.023779   0.368    0.715    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 3.025 on 28 degrees of freedom
## Multiple R-squared:  0.004826,	Adjusted R-squared:  -0.03072 
## F-statistic: 0.1358 on 1 and 28 DF,  p-value: 0.7153
</code></pre><h5 id="-vebajte--uskoristite--gagapminder--podatke">üëâ Ve≈æbajte ‚è∞üíª: UsKoristite  gagapminder  podatke</h5>
<p>Da li ≈æivotni vek zavisi od bruto nacionalnog dohotka po glavi stanovnika?</p>
<ol>
<li>
<p>Bacite pogled na podatke. (tip: <code>sample_n(df, n)</code>)</p>
</li>
<li>
<p>Napravite taƒçkasti grafikon: ≈°ta vam on govori?</p>
</li>
<li>
<p>Napravite regresionu analizu: da li tu postoji relacija? Koliko je jaka? Da li je relacija linearna? ≈†ta mo≈æemo zakljuƒçiti iz grafikona?</p>
</li>
<li>
<p>Koja se jo≈° pitanja otvaraju; mo≈æete li dati odgovor na njih?</p>
</li>
</ol>
<h5 id="-sreenje-kod-q1-primer">üòÉüôå SRe≈°enje: kod Q1; primer</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">sample_n</span>(gapminder, <span style="color:#ae81ff">30</span>)
</code></pre></div><pre><code>## # A tibble: 30 x 6
##    country      continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;        &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Iraq         Asia       1987    65.0 16543189    11644.
##  2 Myanmar      Asia       1962    45.1 23634436      388 
##  3 Italy        Europe     1957    67.8 49182000     6249.
##  4 Netherlands  Europe     2007    79.8 16570613    36798.
##  5 Djibouti     Africa     1972    44.4   178848     3694.
##  6 Iraq         Asia       1992    59.5 17861905     3746.
##  7 South Africa Africa     1997    60.2 42835005     7479.
##  8 El Salvador  Americas   1967    55.9  3232927     4359.
##  9 Burkina Faso Africa     1957    34.9  4713416      617.
## 10 Korea, Rep.  Asia       2002    77.0 47969150    19234.
## # ‚Ä¶ with 20 more rows
</code></pre><p>Dodaƒáemo lejere na ovaj taƒçkasti grafikon: uporediƒáemo: <code>liveExp</code> sa <code>gdpPercap</code>. Iscrtaƒáemo regresionu linuju koja ƒáe nam pomoƒái da vidimo relaciju ove dve varijable, ali i neparemtriƒçku lusovu linuju (loess line) koja ƒáe prikazati moguƒáu relaciju izmeƒëu ove dve varijable. ≈†to znaƒçi da ƒáemo imati:</p>
<ul>
<li>Prvi lejer: taƒçkasti grafikon <strong>scatterplot</strong></li>
<li>Drugi lejer: regresionu liniju koja najpribli≈ænije odgovara podacima <strong>line of the best fit</strong></li>
<li>Treƒái lejer: lusovu krivu (<strong>loess curve</strong>)</li>
</ul>
<h5 id="-sreenje-kod-q2-iscrtava-podatke">üòÉüôå SRe≈°enje: kod Q2; Iscrtava podatke</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">21</span>, fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">blue&#34;</span>, colour<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">+</span> <span style="color:#75715e"># set transparency, shape, colour and size for points</span>
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#75715e"># change the colour of line</span>
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">limegreen&#34;</span>) <span style="color:#75715e"># change the colour of line</span>
</code></pre></div><p><!-- raw HTML omitted --></p>
<h5 id="-reenje-kod-q3-jednostavni-regresioni-model">üòÉüôå Re≈°enje: kod Q3; jednostavni regresioni model</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">my.model <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(gapminder_pipe<span style="color:#f92672">$</span>lifeExp <span style="color:#f92672">~</span> gapminder_pipe<span style="color:#f92672">$</span>gdpPercap)
<span style="color:#a6e22e">summary</span>(my.model)
</code></pre></div><pre><code>## 
## Call:
## lm(formula = gapminder_pipe$lifeExp ~ gapminder_pipe$gdpPercap)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.79839 -1.30472  0.00807  1.33443  2.87766 
## 
## Coefficients:
##                           Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)              7.227e+01  6.942e-01 104.113  &lt; 2e-16 ***
## gapminder_pipe$gdpPercap 2.146e-04  2.514e-05   8.537  2.8e-09 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.598 on 28 degrees of freedom
## Multiple R-squared:  0.7225,	Adjusted R-squared:  0.7125 
## F-statistic: 72.88 on 1 and 28 DF,  p-value: 2.795e-09
</code></pre><h3 id="koristite-estetsko-mapiranje-dodajte-jo-lejera-na-va-span-stylecolorredggplotspan">Koristite estetsko mapiranje: dodajte jo≈° lejera na va≈° <!-- raw HTML omitted --><code>ggplot()</code><!-- raw HTML omitted --></h3>
<p>Kad god je to moguƒáe treba da se trudite da va≈° grafikon bude vizuelno privlaƒçan i informativan, kao ≈°to je reƒçeno u prethodnom odeljku <em>Principi vizuelizacije</em>.</p>
<h4 id="da-biste-promenili-naziv-grafikona-ili-oznake-osa-koristite-span-stylecolororangeredlejer-labsspan">Da biste promenili naziv grafikona ili oznake osa koristite <!-- raw HTML omitted -->lejer <strong>labs</strong><!-- raw HTML omitted --></h4>
<p><strong>labs(<!-- raw HTML omitted -->title =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúyour title‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->subtitle =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúyour subtitle‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->y =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúy label‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->x =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúx label‚Äù<!-- raw HTML omitted -->, <!-- raw HTML omitted -->caption =<!-- raw HTML omitted --> <!-- raw HTML omitted --> ‚Äúgraph's caption‚Äù<!-- raw HTML omitted -->)</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">steelblue&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">limegreen&#34;</span>) <span style="color:#f92672">+</span> 
 
  <span style="color:#75715e"># give a title an label axes</span>
  <span style="color:#a6e22e">labs</span>(title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  
  <span style="color:#75715e"># modify the appearance</span>
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">none&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  
  <span style="color:#75715e"># add the description</span>
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">limegreen&#34;</span>) 
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Primetite da smo dodali tekst na grafikon koji oznaƒçava dve linije i da smo uredili grafikon tako da se legenda ne prikazuje.</p>
<p>Takoƒëe, mogli smo da dobijemo ovaj tekst na grafikonu i sledeƒáom naredbom:</p>
<pre><code>annotate(&quot;text&quot;, x = 80000, y = 125 label = &quot;regression line&quot;, color = &quot;maroon3&quot;)
</code></pre><p>Da biste saznali vi≈°e o izmeni teme grafikona pogledajte sledeƒáu internet stranicu <a href="https://ggplot2.tidyverse.org/reference/theme.html">ggplot‚Äôs theme page</a>.</p>
<h4 id="promenite-boju-taaka-tako-da-odraavaju-trecu-promenljivu">Promenite boju taƒçaka tako da odra≈æavaju trecÃÅu promenljivu.</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># change the colour of the points to reflect continent it belongs to; set transparency, shape, and size for points</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>

<div class="notices note" ><p>Imajte na umu da se legenda dodaje automatski. Mo≈æete je ukloniti tako ≈°to ƒáete postaviti atribut <code>none</code> na <strong>legend.position</strong> unutar funkcije <code>theme()</code>.</p>
</div>

<h4 id="podesite-ogranienja-x-i-y-osa-i-promenite-tekst-x-ose-i-njegovu-lokaciju">Podesite ograniƒçenja X i Y osa i promenite tekst X ose i njegovu lokaciju</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">  <span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">48000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">90</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">70000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># change the limits of the x &amp; y axis</span>
  <span style="color:#a6e22e">xlim</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">90000</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">ylim</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">100</span>)) 
</code></pre></div><pre><code>## Warning: Removed 5 rows containing non-finite values (stat_smooth).

## Warning: Removed 5 rows containing non-finite values (stat_smooth).
</code></pre><pre><code>## Warning: Removed 5 rows containing missing values (geom_point).
</code></pre><pre><code>## Warning: Removed 33 rows containing missing values (geom_smooth).
</code></pre><p><!-- raw HTML omitted --></p>
<p>Primetite da regresiona linija i kriva su promenile svoje oblik üò≥‚Ä¶ ≈†ta se desilo?! üò≤</p>

<div class="notices warning" ><p>Kada koristite xlim() i ylim(), taƒçke izvan navedenog raspona se bri≈°u i ne uzimaju se u obzir pri crtanju krive upotrebom <code>geom_smooth()</code>. Ova osobina vam mo≈æe biti pri ruci kada ≈æelite da saznate da li bi se korelaciona linije promenila ako bi se uklonile ekstremne vrednosti iz podataka.</p>
</div>

<p>Sreƒáom, postoji jo≈° jedan naƒçin da promenite granice na osama a da se ne bri≈°u taƒçke izvan prikaza, to mo≈æete uraditi zumirajuƒái region koji vam je zanimljiv. Ovo mo≈æete uraditi upotrebom funkcije <code>coord_cartesian()</code>. Probajte da zamenite komande <code>xlim()</code> and <code>ylim()</code> iz prethodnog koda sa kodom koji je prikazan dole da vidite ≈°ta bi se desilo.</p>
<pre><code>coord_cartesian(xlim = c(0, 90000), ylim = c(25, 100))  # zooming in specified limits of the x &amp; y axis
</code></pre><p>Pauze mo≈æete postaviti na x osi i obele≈æiti ih upotrebom <code>scale_x_continuous()</code>. Sliƒçno, mo≈æete to uraditi i na y osi?</p>
<p>Poku≈°ajte da se igrate promenom palete boja. Za dodatne opcije proverite <a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">Sequential, diverging and qualitative colour scales from colorbrewer.org</a>.</p>
<p>Ovo su ugraƒëene teme koje kontroli≈°u sve prikaze ne-podataka. Treba da koristite <code>theme_bw()</code> da biste imali belu pozadinu ili <code>theme_dark()</code> za tamno sivu. Za vi≈°e o temama pogledajte <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">ovde</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">maroon3&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dodgerblue3&#34;</span>) <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># change breaks and label them </span>
  <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120000</span>, <span style="color:#ae81ff">20000</span>), labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">0&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">20K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">60K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">80K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">10K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">12K&#34;</span>)) <span style="color:#f92672">+</span>

  <span style="color:#75715e"># change color palette</span>
  <span style="color:#a6e22e">scale_colour_brewer</span>(palette <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Set1&#34;</span>) <span style="color:#f92672">+</span> 

  <span style="color:#75715e"># white background theme</span>
  <span style="color:#a6e22e">theme_bw</span>()
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Postoji biblioteka <code>ggthemes</code> koja ƒáe vam pomoƒái da napravite elegantne grafikone koje koriste mediji kao ≈°to su Wall Street Journal ili Economist. Pogledajte koje jo≈° teme mo≈æete koristiti na sledeƒáoj  <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">veb stranici</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">## If you don&#39;t have ggthemes installed yet, uncomment and run the line below</span>
<span style="color:#75715e">#install.packeges(&#34;ggthemes&#34;)</span>
<span style="color:#a6e22e">library</span>(ggthemes)
<span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkred&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkgreen&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">80000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">125</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">regression line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkred&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">90000</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">75</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">smooth line&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkgreen&#34;</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120000</span>, <span style="color:#ae81ff">20000</span>), labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">0&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">20K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">60K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">80K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">10K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">12K&#34;</span>)) <span style="color:#f92672">+</span>

  <span style="color:#75715e"># Wall Street Journal theme</span>
  <span style="color:#a6e22e">scale_colour_wsj</span>() <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">theme_wsj</span>()
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Spremni ste da napravite vizualizacije u R-u spremne za publikovanje. üòé Mo≈æete istra≈æivati i dalje i poku≈°ati da proizvede grafikone u stilu BBC-ja. Proverite kako BBC ureƒëuje svoje tekstove zasnovane na podacima <a href="https://bbc.github.io/rcookbook/">BBC Visual and Data Journalism cookbook for R graphics</a>.</p>
<h5 id="poloite-panele-na-mreu">Polo≈æite panele na mre≈æu</h5>
<p>Ponekad je te≈°ko sve va≈æno na prikazu jednog panela, poput ovog kojeg smo kreirali a u kojem nije jasno koja je koja taƒçka za svaki od kontinenata. Da biste lak≈°e sagledali i razumeli informacije koje ≈æelite da prika≈æete, nekad je efikasnije ih predstaviti razliƒçite kategorije podeljene u vi≈°e panela. Ovo je jednostavno da se uradi aplikacijom moƒánim funkcijama <code>ggplot2</code>: <code>facet_wrap()</code> and <code>facet_grid()</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(gapminder, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> gdpPercap, y <span style="color:#f92672">=</span> lifeExp)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(col <span style="color:#f92672">=</span> continent), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, shape <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lm&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">darkred&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">loess&#34;</span>, se <span style="color:#f92672">=</span> F, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs </span>(title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp. vs. Population Size&#34;</span>, 
        x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">population&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Life Exp.&#34;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">right&#34;</span>, 
        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>, 
                                    colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">black&#34;</span>,
                                    size <span style="color:#f92672">=</span> <span style="color:#ae81ff">.75</span>),
        plot.title<span style="color:#f92672">=</span><span style="color:#a6e22e">element_text</span>(hjust<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120000</span>, <span style="color:#ae81ff">20000</span>), labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">0&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">20K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">40K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">60K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">80K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">10K&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">12K&#34;</span>)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_colour_wsj</span>() <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">theme_wsj</span>() <span style="color:#f92672">+</span>
  
  <span style="color:#75715e"># forms a matrix of scatterplots for each continet</span>
  <span style="color:#a6e22e">facet_grid</span>(rows <span style="color:#f92672">=</span> <span style="color:#a6e22e">vars</span>(continent))
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>Glavna distinkcija funkcija <code>facet_wrap()</code> i  <code>facet_grid()</code> je da prva mo≈æe da spoji ggplots u razliƒçite kategorije pojedinaƒçne varijable, dok druga mo≈æe to da uradi na vi≈°e od jedne varijable.</p>

<div class="notices warning" ><p>Poku≈°ajte da istra≈æite dve funckije sami i vidite kuda ƒáe vas to odvesti.</p>
</div>

<h4 id="-pokuajte-sledee">üí™ Poku≈°ajte sledeƒáe:</h4>
<ul>
<li>
<p><code>dplyr</code>-ova <code>group_by()</code> funkcija omoguƒáava vam da grupi≈°ete svoje podatke. Dozvoljava vam da kreirate posebne df koje dele orginalnu df po varijabli.</p>
</li>
<li>
<p><code>boxplot()</code> funkcija proizvodi boxplot grafike od datih (gropiranih) vrednosti.</p>
</li>
</ul>
<p>Znajuƒái funkcije <code>group_by()</code> i <code>boxplot()</code> i kori≈°ƒáenjem <code>gapminder</code> podataka, mo≈æete li izraƒçunati srednju (medijanu) oƒçekivanog ≈æivotnog veka u 2007. godini po kontinentima i da vizuelizujete va≈°e podatke?</p>
<h5 id="-reenje-kod">üòÉüôå Re≈°enje: kod</h5>
<p>Pogledajmo srednji (medijanu) oƒçekivanog ≈æivotnog veka za svaki kontinent</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">gapminder <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">group_by</span>(continent) <span style="color:#f92672">%&gt;%</span>
    <span style="color:#a6e22e">summarise</span>(lifeExp <span style="color:#f92672">=</span> <span style="color:#a6e22e">median</span>(lifeExp))
</code></pre></div><pre><code>## # A tibble: 5 x 2
##   continent lifeExp
##   &lt;fct&gt;       &lt;dbl&gt;
## 1 Africa       47.8
## 2 Americas     67.0
## 3 Asia         61.8
## 4 Europe       72.2
## 5 Oceania      73.7
</code></pre><p><strong>Sretni smo ≈°to ≈æivimo u Srbiji, tj. u Evropi!!!</strong> üòÖ</p>
<h5 id="-reenje-grafikon">üòÉüôå Re≈°enje: grafikon</h5>
<p><!-- raw HTML omitted --></p>
<h5 id="studija-sluaja-no2-2017-">Studija sluƒçaja: NO2 2017 üòÅ</h5>
<p>Poku≈°ajmmo sad da kombinujemo sve ≈°to smo do sada nauƒçili i ve≈æbali na nama dobro poznatim podacima <a href="http://data.sepa.gov.rs/dataset/ca463c44-fbfa-4de9-9a75-790995bf2830/resource/74516688-5fb5-47b2-becc-6b6e31a24d80/download/2017-no2.csv">2017-NO2.csv</a> data.</p>
<p>Zapamtite ovo?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(tidyr)
<span style="color:#a6e22e">library</span>(forcats)
no2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">http://data.sepa.gov.rs/dataset/ca463c44-fbfa-4de9-9a75-790995bf2830/resource/74516688-5fb5-47b2-becc-6b6e31a24d80/download/2017-no2.csv&#34;</span>,
                stringsAsFactors <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>, 
                fileEncoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">latin1&#34;</span>)
new_no2 <span style="color:#f92672">&lt;-</span> no2 <span style="color:#f92672">%&gt;%</span>
  <span style="color:#a6e22e">gather</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">place&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">no2&#34;</span>, <span style="color:#f92672">-</span>Datum, factor_key <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># stack all columns apart from `Datum`</span>
  <span style="color:#a6e22e">mutate</span>(place <span style="color:#f92672">=</span> <span style="color:#a6e22e">fct_recode</span>(place, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">NS_Spens&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Novi.Sad.SPENS.NO2&#34;</span>,
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BG_Most&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Beograd.Mostar.NO2&#34;</span>,
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BG_Vracar&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Beograd.Vra√®ar.NO2&#34;</span>, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">BG_ZelenoBrdo&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Beograd.Zeleno.brdo.NO2&#34;</span>, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">KG&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Kragujevac..NO2&#34;</span>, 
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">NI&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Ni..IZJZ.Ni...NO2&#34;</span>,
                            <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">UZ&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">U.ice..NO2&#34;</span>))
<span style="color:#a6e22e">glimpse</span>(new_no2)
</code></pre></div><pre><code>## Observations: 2,555
## Variables: 3
## $ Datum &lt;chr&gt; &quot;01.01.2017&quot;, &quot;02.01.2017&quot;, &quot;03.01.2017&quot;, &quot;04.01.2017&quot;, &quot;0‚Ä¶
## $ place &lt;fct&gt; NS_Spens, NS_Spens, NS_Spens, NS_Spens, NS_Spens, NS_Spens‚Ä¶
## $ no2   &lt;dbl&gt; 22.89, 32.94, 14.86, 22.73, 20.89, 10.47, 9.58, 15.99, 14.‚Ä¶
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">new_no2 <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">group_by</span>(place) <span style="color:#f92672">%&gt;%</span> 
  <span style="color:#a6e22e">summarise</span>(mean_no2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(no2))) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># !is.na(): is not NA; omits the missing values</span>
  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> place, y <span style="color:#f92672">=</span> mean_no2, fill <span style="color:#f92672">=</span> place)) <span style="color:#f92672">+</span> <span style="color:#75715e"># fill: colours each bar differently   </span>
    <span style="color:#a6e22e">geom_bar</span>(stat <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">identity&#34;</span>) <span style="color:#f92672">+</span>
    <span style="color:#a6e22e">xlab</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Place&#34;</span>) <span style="color:#f92672">+</span> 
    <span style="color:#a6e22e">scale_fill_brewer</span>(palette <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Dark2&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#75715e"># colour scheme &#34;Dark2&#34;</span>
    <span style="color:#a6e22e">theme</span>(legend.position<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">bottom&#34;</span>, 
          axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
          axis.ticks.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>()) <span style="color:#75715e"># </span>
</code></pre></div><p><!-- raw HTML omitted --></p>
<h2 id="zadaci-">ZADACI üëá</h2>
<p>Prove≈æbajte sledeƒái set ve≈æbi:</p>
<ol>
<li>
<p>Odaberite vam zanimljive podatke sa portala otvorenih podataka <a href="https://data.gov.rs">https://data.gov.rs</a> Uvezite set podataka u R i pregledajte koje sve varijable tu imate. Promislite kakve grafikone bi trebalo da koristete da biste te podatke prikazali va≈°oj publici?</p>
</li>
<li>
<p>Vratite se na studiju sluƒçaja  NO2 2017:</p>
</li>
</ol>
<p>i)	Koja sva pitanja mo≈æete postaviti na dostupnim informacijama u ovom setu podataka?</p>
<p>ii)	Koje grafikone predla≈æete da se upotrebe kao odgovori na ova pitanja?</p>
<p>iii)	Kreirajte odgovarajuƒáe vizuelizacije za i) i ii)</p>
<h5 id="korisni-linkovi">korisni linkovi:</h5>
<p><a href="https://www.rstudio.com/resources/webinars/tidyverse-visualization-and-manipulation-basics/">tidyverse, visualization, and manipulation basics</a></p>
<p><a href="http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html#introduction">Introduction to R graphics with ggplot2</a></p>
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf"><code>gglopt</code> cheat sheet</a></p>
<p><a href="https://www.data-to-viz.com/">from Data to Viz</a></p>
<p><a href="http://johnburnmurdoch.github.io/slides/r-ggplot/#/">An example from the Financial Times</a></p>
<p><a href="https://bbc.github.io/rcookbook/">BBC Visual and Data Journalism cookbook for R graphics</a></p>
<p><a href="http://johnburnmurdoch.github.io/slides/r-ggplot/#/">ggplot as a creativity engine</a></p>
<hr>
<p>¬© 2019 Tatjana Kecojevic</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/day2/datawrangling/" title="Upravljanje podacima"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/day2/spatialda/" title="Analiza geo-pozicioniranih podataka" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1577286692"></script>
    <script src="/js/perfect-scrollbar.min.js?1577286692"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1577286692"></script>
    <script src="/js/jquery.sticky.js?1577286692"></script>
    <script src="/js/featherlight.min.js?1577286692"></script>
    <script src="/js/highlight.pack.js?1577286692"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1577286692"></script>
    <script src="/js/learn.js?1577286692"></script>
    <script src="/js/hugo-learn.js?1577286692"></script>

    <link href="/mermaid/mermaid.css?1577286692" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1577286692"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105947713-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
